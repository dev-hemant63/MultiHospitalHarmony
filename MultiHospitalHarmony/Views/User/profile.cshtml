@model CreateUserVM
<div class="row">
    <div class="col-xl-12 col-lg-12">
        <div class="card card-bx m-b30">
            <div class="card-header">
                <h6 class="title">Account setup</h6>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-sm-6 m-b30">
                        <label class="form-label">Name</label>
                        <input type="text" class="form-control" asp-for="@Model.FullName" id="txtfullname">
                    </div>
                    <div class="col-sm-6 m-b30">
                        <label class="form-label">Role</label>
                        <input type="text" class="form-control" asp-for="@Model.Role" id="ddlrole">
                    </div>
                    <div class="col-sm-6 m-b30">
                        <label class="form-label">MobileNo</label>
                        <input type="text" class="form-control" asp-for="@Model.MobileNo" id="txtmobile">
                    </div>
                    <div class="col-sm-6 m-b30">
                        <label class="form-label">EmailId</label>
                        <input type="text" class="form-control" asp-for="@Model.Email" id="txtemail">
                    </div>
                    <div class="col-sm-6 m-b30">
                        <label class="form-label">ZipCode</label>
                        <input type="text" class="form-control" asp-for="@Model.ZipCode" id="txtZipCode">
                    </div>
                    <div class="col-sm-6 m-b30">
                        <label class="form-label">Address</label>
                        <input type="text" class="form-control" asp-for="@Model.Address" id="txtAddress">
                    </div>
                    <div class="col-sm-6 m-b30">
                        <label class="form-label">State</label>
                        <select class="form-control" id="ddlState" asp-for="@Model.StateId" required>
                            <option value="">Please State</option>
                            @{
                                foreach (var item in Model.State)
                                {
                                        <option value="@item.Id">@item.StateName</option>
                                }
                            }
                        </select>
                    </div>
                    <div class="col-sm-6 m-b30">
                        <label class="form-label">City</label>
                        <select class="form-control" id="ddlcity" asp-for="@Model.CityId" required>
                            <option value="">Please City</option>
                            @{
                                foreach (var item in Model.City)
                                {
                                        <option value="@item.Id">@item.CityName</option>
                                }
                            }
                        </select>
                    </div>
                    <div class="col-sm-6 m-b30">
                        <label class="form-label">Tehsil</label>
                        <input type="text" class="form-control" asp-for="@Model.Tehsil" id="txtTehsil">
                    </div>
                </div>
            </div>
            <div class="card-footer">
                <button class="btn btn-primary" onclick="update()">UPDATE</button>
            </div>
        </div>
    </div>
</div>
@section Scripts {
    <script>
        var update = (id) => {
            // if (!valiadteInputs()) {
            //     return false;
            // }
            let obj = {
                Id: @Model.Id,
                RoleId: parseInt(@Model.RoleId),
                FullName: $('#txtfullname').val(),
                MobileNo: $('#txtmobile').val(),
                Email: $('#txtemail').val(),
                Address: $('#txtAddress').val(),
                Tehsil: $('#txtTehsil').val(),
                CityId: parseInt($('#ddlcity').val()),
                StateId: parseInt($('#ddlState').val()),
                ZipCode: parseInt($('#txtZipCode').val()),
                Photo: ''
            };

            let formData = new FormData();
            formData.append('jsonData', JSON.stringify(obj));

            $.ajax({
                url: '/user/create',
                type: 'POST',
                data: formData,
                contentType: false,
                processData: false,
                success: function (response) {
                    Swal.fire({
                        title: response.success ? "Success" : "Failed!!",
                        text: response.message,
                        icon: response.success ? "Success" : "Error";
                    });
                },
                error: function (error) {
                    console.error(error);
                    Swal.fire({
                        title: "Failed!!",
                        text: "Server Error!",
                        icon: "error"
                    });
                }
            });
        };
    </script>
}